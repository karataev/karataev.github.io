function Config(){}var Assets=Class.extend({queue:void 0,callback:void 0,scope:void 0,loaderBar:void 0,percentTf:void 0,init:function(a,b){this.callback=a,this.scope=b,this.preloader=new Preloader,this.queue=new createjs.LoadQueue(!1),createjs.Sound.alternateExtensions=["mp3"],this.queue.installPlugin(createjs.Sound);var c=[{id:"background",src:"assets/images/background.png"},{id:"mainTitle",src:"assets/images/mainTitle.png"},{id:"playButton",src:"assets/images/playButton.png"},{id:"mona",src:"assets/images/mona.jpg"},{id:"homeButton",src:"assets/images/homeButton.png"},{id:"answerButton",src:"assets/images/answerButton.png"},{id:"correctButton",src:"assets/images/correctButton.png"},{id:"correctCheckButton",src:"assets/images/correctCheckButton.png"},{id:"nextButton",src:"assets/images/nextButton.png"},{id:"selectedButton",src:"assets/images/selectedButton.png"},{id:"sticker",src:"assets/images/sticker.png"},{id:"stickerStar",src:"assets/images/stickerStar.png"},{id:"soundIconOn",src:"assets/images/soundIconOn.png"},{id:"soundIconOff",src:"assets/images/soundIconOff.png"},{id:"fader",src:"assets/images/fader.png"},{id:"itemGalka",src:"assets/images/itemGalka.png"},{id:"itemKrest",src:"assets/images/itemKrest.png"},{id:"shadow",src:"assets/images/shadow.png"},{id:"creditsButton",src:"assets/images/creditsButton.png"},{id:"creditsBack",src:"assets/images/creditsBack.png"},{id:"closeButton",src:"assets/images/closeButton.png"},{id:"postepennoLogo",src:"assets/images/postepennoLogo.png"},{id:"karataev",src:"assets/images/karataev.png"},{id:"mrg_logo",src:"assets/images/mrg_logo.png"},{id:"alenushka",src:"assets/pics/alenushka.jpg"},{id:"serezhka",src:"assets/pics/serezhka.jpg"},{id:"gornostai",src:"assets/pics/gornostai.jpg"},{id:"madonna",src:"assets/pics/madonna.jpg"},{id:"sunrise",src:"assets/pics/sunrise.jpg"},{id:"girlWithPeaches",src:"assets/pics/girlWithPeaches.jpg"},{id:"italianPolden",src:"assets/pics/italianPolden.jpg"},{id:"9val",src:"assets/pics/9val.jpg"},{id:"grachi",src:"assets/pics/grachi.jpg"},{id:"mart",src:"assets/pics/mart.jpg"},{id:"suprem",src:"assets/pics/suprem.jpg"},{id:"garden",src:"assets/pics/garden.jpg"},{id:"hunters",src:"assets/pics/hunters.jpg"},{id:"arnolfini",src:"assets/pics/arnolfini.jpg"},{id:"redtower",src:"assets/pics/redtower.jpg"},{id:"sunday",src:"assets/pics/sunday.jpg"},{id:"skelet",src:"assets/pics/skelet.jpg"},{id:"vangog",src:"assets/pics/vangog.jpg"},{id:"dog",src:"assets/pics/dog.jpg"},{id:"players",src:"assets/pics/players.jpg"},{id:"sndWrong",src:"assets/sounds/wrong.ogg"},{id:"sndRight",src:"assets/sounds/right.ogg"},{id:"sndClick",src:"assets/sounds/click.ogg"}];this.queue.on("fileload",this.onFileLoad,this),this.queue.on("complete",this.onComplete,this),this.queue.loadManifest(c)},get:function(a){return this.queue.getResult(a)},onComplete:function(){this.preloader.destroy(),this.callback(this.scope)},onFileLoad:function(){this.preloader.update(this.queue.progress)}}),Component=Class.extend({init:function(){},destroy:function(){}}),ComponentBox=Class.extend({init:function(){this.components=[]},addComponent:function(a){this.components.push(a)},removeComponent:function(a){var b=this.components.indexOf(a);this.components.splice(b,1),a.destroy()},destroyComponents:function(){for(;this.components.length>0;){var a=this.components.pop();a.destroy()}},destroy:function(){this.destroyComponents()}});Config.WIDTH=640,Config.HEIGHT=960,Config.version="0.1",Config.TRANSPARENT=!1,Config.ANIMATION=!0,Config.START_LAST_LEVEL=!0,Config.LANG="EN",Config.URL_MORE_GAMES="http://www.myrealgames.com/mobile-games/?utm_source=IKnowArt&utm_medium=html5_moregames";var Level=Class.extend({init:function(a,b,c,d,e,f){this.id=a,this.asset=b,this.stickerX=c,this.stickerY=d,this.stickerScale=e,this.data=f,this.playerCorrect=!1},getAnswers:function(){return"RU"==Config.LANG?this.data.ru.answers:this.data.en.answers},getTitle:function(){return"RU"==Config.LANG?this.data.ru.title:this.data.en.title}}),gameDiv,canvas,stage,startupAssets,assets,Main=Class.extend({init:function(){gameDiv=document.getElementById("gameArea"),canvas=document.getElementById("gameCanvas"),stage=new createjs.Stage(canvas);new Resizer;createjs.Touch.enable(stage),createjs.Ticker.setFPS(60),stage.enableMouseOver(10),startupAssets=new StartupAssets(this.startupPreloaderComplete,this)},startupPreloaderComplete:function(a){a.logo=new Button(stage,"mrg_logo",192,120,a.logoClick,a,{assets:startupAssets}),assets=new Assets(a.preloaderComplete,a)},logoClick:function(){window.open(Config.URL_MORE_GAMES,"_blank")},preloaderComplete:function(a){a.logo.destroy(),Config.TRANSPARENT&&(stage.alpha=.5),createjs.Ticker.on("tick",a.tick),Main.views=[],Main.viewContainer=new createjs.Container,Main.topContainer=new createjs.Container,Main.fpsContainer=new createjs.Container,stage.addChild(Main.viewContainer),stage.addChild(Main.topContainer),stage.addChild(Main.fpsContainer),Fader.init(),Main.addView(new MainMenu)},tick:function(a){stage.update(a)}});Main.addView=function(a){Main.views.push(a)},Main.removeViewByClass=function(a){for(var b=Main.views.length-1;b>=0;b--){var c=Main.views[b];if(c instanceof a){Main.views.splice(b,1),c.destroy();break}}},Main.getViewByClass=function(a){for(var b=Main.views.length-1;b>=0;b--){var c=Main.views[b];if(c instanceof a)return c}return null};var Preloader=Class.extend({init:function(){this.loaderEdge=new createjs.Shape,this.loaderEdge.graphics.setStrokeStyle(2).beginStroke("#000000").drawRect(115,Config.HEIGHT/2-25,410,50).endStroke(),stage.addChild(this.loaderEdge),this.loaderBar=new createjs.Shape,this.loaderBar.graphics.beginFill("#000000").drawRect(0,Config.HEIGHT/2-20,400,40).endFill(),this.loaderBar.x=120,this.loaderBar.scaleX=0,stage.addChild(this.loaderBar),this.percentTf=new createjs.Text("0%","40px Arial","#555555"),this.percentTf.textAlign="center",this.percentTf.x=Config.WIDTH/2,this.percentTf.y=Config.HEIGHT/2-80,stage.addChild(this.percentTf)},update:function(a){var b=Math.round(100*a);this.percentTf.text=b+"%",this.loaderBar.scaleX=a,stage.update()},destroy:function(){stage.removeChild(this.loaderEdge),stage.removeChild(this.loaderBar),stage.removeChild(this.percentTf),stage.update()}}),Resizer=Class.extend({init:function(){Resizer.onResize=this.onResize,window.onresize=Resizer.onResize,this.onResize()},onResize:function(){var a=window.innerWidth,b=window.innerHeight,c=Config.WIDTH,d=Config.HEIGHT,e=Math.min(a/c,b/d),f=c*e,g=d*e;gameDiv.style.width=f+"px",gameDiv.style.height=g+"px",gameDiv.style.marginTop=-g/2+"px",gameDiv.style.marginLeft=-f/2+"px",stage.scaleX=e,stage.scaleY=e,stage.canvas.width=f,stage.canvas.height=g,stage.update()}}),Sounds=Class.extend({});Sounds.soundEnabled=!0,Sounds.play=function(a){if(Sounds.soundEnabled){createjs.Sound.play(a)}},Sounds.toggle=function(){Sounds.soundEnabled=!Sounds.soundEnabled},Sounds.startMusic=function(){Sounds.musicChannel=createjs.Sound.play("music",{loop:-1,volume:.5})};var StartupAssets=Class.extend({queue:void 0,callback:void 0,scope:void 0,loaderBar:void 0,percentTf:void 0,init:function(a,b){this.callback=a,this.scope=b,this.queue=new createjs.LoadQueue(!1),createjs.Sound.alternateExtensions=["mp3"],this.queue.installPlugin(createjs.Sound);var c=[{id:"mrg_logo",src:"assets/images/mrg_logo_256x256.jpg"}];this.queue.on("complete",this.onComplete,this),this.queue.loadManifest(c)},get:function(a){return this.queue.getResult(a)},onComplete:function(){this.callback(this.scope)}}),Util=Class.extend({});Util.shuffle=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a};var AnswerButton=ComponentBox.extend({init:function(a,b,c,d,e){this._super(),this.parent=a,this.text=b,this.game=e,this.container=new createjs.Container,this.parent.addChild(this.container),this.container.x=c,this.container.y=d,this.back=new Picture(this.container,"answerButton"),this.addComponent(this.back),this.tf=new TextField(this.container,this.text,{x:50,y:15,align:"left",font:"bold 25px Arial",color:"#333333"}),this.addComponent(this.tf),this.container.addEventListener("click",this),this.container.cursor="pointer"},hide:function(){this.container.visible=!1},tweenShow:function(a,b){this.container.alpha=0;var c=this.container.y;this.container.y+=40,createjs.Tween.get(this.container).wait(a).to({alpha:1,y:c},b,createjs.Ease.backOut)},tweenHide:function(a,b){var c=this.container.y+40;createjs.Tween.get(this.container).wait(a).to({alpha:0,y:c},b,createjs.Ease.backIn)},handleEvent:function(a){switch(a.type){case"click":Sounds.play("sndClick"),this.doSelect(),this.game.playerAnswered(this.text)}},disable:function(){this.container.cursor=null,this.container.removeEventListener("click",this)},doSelect:function(){this.removeComponent(this.back),this.back=new Picture(this.container,"selectedButton",{childIndex:0}),this.addComponent(this.back)},doCorrect:function(a){this.removeComponent(this.back);var b=a?"correctCheckButton":"correctButton";this.back=new Picture(this.container,b,{childIndex:0}),this.addComponent(this.back)},destroy:function(){this._super(),this.container.removeEventListener("click",this),this.parent.removeChild(this.container)}}),Background=Component.extend({init:function(){this.bitmap=new createjs.Bitmap(assets.get("background")),Main.viewContainer.addChild(this.bitmap)},destroy:function(){Main.viewContainer.removeChild(this.bitmap)}}),Button=Component.extend({init:function(a,b,c,d,e,f,g){this.parent=a,this.assetName=b,this.x=c,this.y=d,this.callback=e,this.scope=f,this.assets=assets,g&&void 0!=g.assets&&(this.assets=g.assets),this.bmp=new createjs.Bitmap(this.assets.get(this.assetName)),this.bmp.x=c,this.bmp.y=d,this.parent.addChild(this.bmp),this.enableClick()},hide:function(){this.bmp.visible=!1},show:function(){this.bmp.visible=!0},enableClick:function(){this.bmp.addEventListener("click",this),this.bmp.cursor="pointer"},disableClick:function(){this.bmp.removeEventListener("click",this),this.bmp.cursor=null},handleEvent:function(a){switch(a.type){case"click":Sounds.play("sndClick"),this.callback(this,this.scope)}},destroy:function(){this.disableClick(),this.parent.removeChild(this.bmp)}}),Description=ComponentBox.extend({init:function(a,b){this._super(),this.game=a,this.parent=b,this.container=new createjs.Container,this.container.x=0,this.container.y=100,this.parent.addChild(this.container),this.createBack(),this.tf=new TextField(this.container,"",{x:10,y:20,font:"22px Arial",baseline:"middle"}),this.tf.tf.lineWidth=620,this.addComponent(this.tf)},createBack:function(){var a=new createjs.Graphics;a.beginFill("#EEEEEE").drawRect(0,0,Config.WIDTH,50),this.back=new createjs.Shape(a),this.back.alpha=.7,this.container.addChild(this.back)},setText:function(a){this.tf.setText(a)},hide:function(){this.container.alpha=0},show:function(){this.container.alpha=1},fadeIn:function(a,b){this.container.alpha=0,createjs.Tween.get(this.container).wait(a).to({alpha:1},b)},fadeOut:function(a,b){createjs.Tween.get(this.container).wait(a).to({alpha:0},b)},destroy:function(){this._super(),this.parent.removeChild(this.container)}}),GalleryItem=ComponentBox.extend({init:function(a,b,c,d){this._super(),this.parent=a;var e=new Picture(this.parent,b.asset,{x:c,y:d});e.bitmap.scaleX=e.bitmap.scaleY=.15,this.addComponent(e);var f=b.playerCorrect?"itemGalka":"itemKrest",g=new Picture(this.parent,f,{x:c,y:d});this.addComponent(g)}}),Painting=ComponentBox.extend({init:function(a,b){this._super(),this.parent=a,this.level=b,this.container=new createjs.Container,this.container.x=320,this.container.y=455,this.parent.addChild(this.container),this.pic=new Picture(this.container,this.level.asset),this.pic.bitmap.regX=this.pic.bitmap.image.width/2,this.pic.bitmap.regY=this.pic.bitmap.image.height/2,this.addComponent(this.pic),this.sticker=new Sticker(this.container,this.level.stickerX,this.level.stickerY,this.level.stickerScale),this.addComponent(this.sticker)},addStickerStar:function(){this.stickerStar=new Picture(this.container,"stickerStar",{x:this.level.stickerX,y:this.level.stickerY}),this.container.setChildIndex(this.stickerStar.bitmap,1),this.stickerStar.bitmap.scaleX=this.stickerStar.bitmap.scaleY=this.level.stickerScale,this.stickerStar.bitmap.regX=159,this.stickerStar.bitmap.regY=159,this.addComponent(this.stickerStar)},destroy:function(){this._super(),this.parent.removeChild(this.container)}}),Picture=Component.extend({init:function(a,b,c){this.parent=a,this.assetName=b,this.x=0,this.y=0,this.childIndex=this.parent.getNumChildren(),c&&(void 0!=c.x&&(this.x=c.x),void 0!=c.y&&(this.y=c.y),void 0!=c.childIndex&&(this.childIndex=c.childIndex)),this.bitmap=new createjs.Bitmap(assets.get(b)),this.bitmap.x=this.x,this.bitmap.y=this.y,this.parent.addChildAt(this.bitmap,this.childIndex)},setPos:function(a,b){this.bitmap.x=a,this.bitmap.y=b},destroy:function(){this.parent.removeChild(this.bitmap)}}),ResultGallery=ComponentBox.extend({init:function(a,b,c,d){this._super(),this.parent=a,this.game=b,this.container=new createjs.Container,this.container.x=c,this.container.y=d,this.parent.addChild(this.container);var e=96,f=106,g=new createjs.Graphics;g.beginFill("#FFF").drawRect(-5,-5,5*e+10,4*f+10),this.shape=new createjs.Shape(g),this.container.addChild(this.shape);for(var h=0;h<this.game.levels.length;h++){var i=this.game.levels[h],j=h%5*e,k=Math.floor(h/5)*f,l=new GalleryItem(this.container,i,j,k);this.addComponent(l)}},destroy:function(){this._super(),this.parent.removeChild(this.container)}}),SoundIcon=Component.extend({init:function(a,b,c){this.parent=a,this.holder=new createjs.Container,this.parent.addChild(this.holder),this.holder.x=b,this.holder.y=c,this.bmpOn=new createjs.Bitmap(assets.get("soundIconOn")),this.holder.addChild(this.bmpOn),this.bmpOff=new createjs.Bitmap(assets.get("soundIconOff")),this.holder.addChild(this.bmpOff),this.updateIcon(),this.holder.addEventListener("click",this)},updateIcon:function(){Sounds.soundEnabled?(this.bmpOn.visible=!0,this.bmpOff.visible=!1):(this.bmpOn.visible=!1,this.bmpOff.visible=!0)},handleEvent:function(a){switch(a.type){case"click":Sounds.toggle(),Sounds.play("sndClick"),this.updateIcon()}},destroy:function(){this.holder.removeEventListener("click",this),this.parent.removeChild(this.holder)}}),Sticker=Component.extend({init:function(a,b,c,d){this.parent=a,this.bitmap=new createjs.Bitmap(assets.get("sticker")),this.bitmap.x=b,this.bitmap.y=c,this.bitmap.regX=Sticker.WIDTH/2,this.bitmap.regY=Sticker.HEIGHT/2,this.bitmap.scaleX=this.bitmap.scaleY=d,this.parent.addChild(this.bitmap)},setPos:function(a,b){this.bitmap.x=a,this.bitmap.y=b},destroy:function(){this.parent.removeChild(this.bitmap)}});Sticker.WIDTH=204,Sticker.HEIGHT=215;var TextField=Component.extend({init:function(a,b,c){this.parent=a,this.x=0,this.y=0,this.color=TextField.defaultColor,this.font=TextField.defaultFont,this.align=TextField.defaultAlign,this.baseline=TextField.defaultBaseline,c&&(c.color&&(this.color=c.color),c.x&&(this.x=c.x),c.y&&(this.y=c.y),c.font&&(this.font=c.font),c.align&&(this.align=c.align),c.baseline&&(this.baseline=c.baseline)),this.tf=new createjs.Text(b,this.font,this.color),this.tf.x=this.x,this.tf.y=this.y,this.tf.textAlign=this.align,this.tf.textBaseline=this.baseline,this.parent.addChild(this.tf)},setText:function(a){this.tf.text=a},destroy:function(){this.parent.removeChild(this.tf)}});TextField.defaultColor="#000000",TextField.defaultFont="bold 30px Arial",TextField.defaultAlign="left",TextField.defaultBaseline="top";var LevelHideCommand=Class.extend({init:function(a){if(this.game=a,this.game.ui.nextBtn.disableClick(),createjs.Tween.get(this.game.ui.nextBtn.bmp).to({alpha:0},500),Config.ANIMATION){for(var b=0;b<this.game.abuttons.length;b++){var c=this.game.abuttons[b];c.tweenHide(300*b,500)}createjs.Tween.get(this.game.painting.container).to({alpha:0},1500,createjs.Ease.linear).call(this.animationComplete,[],this),this.game.ui.desc.fadeOut(0,500)}else this.animationComplete()},animationComplete:function(){this.game.levelAbort();var a=this.game.curLevel.id+1;a<this.game.levels.length?this.game.levelStart(a):Fader.fade(this.gameComplete,this)},gameComplete:function(){Main.removeViewByClass(Game),Main.addView(new GameComplete(this.game))}}),LevelShowCommand=Class.extend({init:function(a){this.game=a;for(var b=0;b<this.game.abuttons.length;b++){var c=this.game.abuttons[b];c.tweenShow(300*b,500)}var d=this.game.painting.pic.bitmap;d.alpha=0,createjs.Tween.get(d).to({alpha:1},1500,createjs.Ease.linear).call(this.complete,[],this)},complete:function(){}}),PlayerAnsweredCommand=Class.extend({init:function(a){if(this.game=a,this.disableAButtons(),Config.ANIMATION){this.game.painting.addStickerStar();var b=this.game.painting.stickerStar,c=b.bitmap.scaleX;b.bitmap.scaleX=b.bitmap.scaleY=0,createjs.Tween.get(b.bitmap).to({scaleX:c,scaleY:c},1e3,createjs.Ease.backOut).wait(500).to({scaleX:0,scaleY:0},500,createjs.Ease.linear),createjs.Tween.get(b.bitmap).to({rotation:90},2e3,createjs.Ease.linear),createjs.Tween.get(this.game.painting.sticker.bitmap).wait(1800).to({alpha:0},500,createjs.Ease.linear).call(this.animationComplete,[],this),this.game.ui.desc.fadeIn(1800,500)}else this.game.painting.sticker.bitmap.alpha=0,this.animationComplete()},animationComplete:function(){this.game.ui.nextBtn.show(),this.game.ui.nextBtn.enableClick(),this.game.ui.nextBtn.bmp.alpha=0,createjs.Tween.get(this.game.ui.nextBtn.bmp).to({alpha:1},500);var a=this.game.curLevel.getAnswers()[0],b=this.game.getCorrectButton();this.game.playerAnswer===a?(this.game.curLevel.playerCorrect=!0,Sounds.play("sndRight"),b.doCorrect(!0)):(Sounds.play("sndWrong"),b.doCorrect(!1))},disableAButtons:function(){for(var a=0;a<this.game.abuttons.length;a++){var b=this.game.abuttons[a];b.disable()}}}),Credits=ComponentBox.extend({init:function(){this._super(),this.pic=new Picture(Main.viewContainer,"creditsBack",{x:0,y:0}),this.addComponent(this.pic),this.logoBt=new Button(Main.viewContainer,"postepennoLogo",200,292,this.logoClick,this),this.addComponent(this.logoBt),this.addHitArea(this.logoBt.bmp),this.logoBt.disableClick(),this.karataevBt=new Button(Main.viewContainer,"karataev",128,610,this.karataevClick,this),this.addComponent(this.karataevBt),this.addHitArea(this.karataevBt.bmp),this.karataevBt.disableClick();var a=new Button(Main.viewContainer,"closeButton",538,252,this.closeClick,this);a.bmp.regX=a.bmp.regY=40,this.addComponent(a),this.pic.bitmap.addEventListener("click",this)},addHitArea:function(a){var b=new createjs.Shape;b.graphics.beginFill("#000").drawRect(0,0,a.image.width,a.image.height),a.hitArea=b},karataevClick:function(){window.location.href="mailto:eugene.karataev@gmail.com"},logoClick:function(){window.open("http://postepenno.com","_blank")},closeClick:function(){Main.removeViewByClass(Credits)},handleEvent:function(a){switch(a.type){case"click":}},destroy:function(){this.pic.bitmap.removeEventListener("click",this),this._super()}}),FPSView=ComponentBox.extend({init:function(){this._super(),this.fpsLabel=new TextField(Main.fpsContainer,"FPS",{x:560,y:0,font:"bold 18px Arial"}),this.addComponent(this.fpsLabel),this.tickRef=createjs.Ticker.on("tick",this.tick,this)},tick:function(){var a=Math.round(createjs.Ticker.getMeasuredFPS());this.fpsLabel.setText("FPS "+a)},destroy:function(){this._super(),createjs.Ticker.off("tick",this.tickRef)}}),Fader=Class.extend({});Fader.init=function(){Fader.pic=new Picture(Main.fpsContainer,"fader"),Fader.pic.bitmap.addEventListener("click",Fader),Fader.pic.bitmap.visible=!1},Fader.handleEvent=function(){},Fader.fade=function(a,b){Fader.pic.bitmap.visible=!0,Fader.pic.bitmap.alpha=0,createjs.Tween.get(Fader.pic.bitmap).to({alpha:1},500).call(a,[],b).to({alpha:0},500).call(Fader.fadeComplete)},Fader.fadeComplete=function(){Fader.pic.bitmap.visible=!1};var Game=ComponentBox.extend({init:function(){this._super(),this.curLevel=void 0,this.playerAnswer=void 0,this.createLevels(),this.addComponent(new Background),this.ui=new GameUI(Main.topContainer,this),this.addComponent(this.ui),this.levelStart(Config.START_LAST_LEVEL?this.levels.length-1:0)},createLevels:function(){this.levels=[],this.addLevel("italianPolden",18,-228,1.39,{ru:{answers:["ВИНОГРАД","ЛАМПОЧКА","КРЫСА","МОРКОВКА"],title:"Карл Брюллов. Итальянский полдень, 1827"},en:{answers:["GRAPES","LIGHTBULB","RAT","CARROT"],title:"Karl Bryullov. Italian Midday, 1827"}}),this.addLevel("alenushka",-26,78,2.06,{ru:{answers:["ДЕВОЧКА","МЕДВЕДЬ","РЫБАК","ПИАНИНО"],title:"Виктор Васнецов. Аленушка, 1881"},en:{answers:["GIRL","BEAR","FISHERMAN","PIANO"],title:"Viktor Vasnetsov. Alionushka, 1881"}}),this.addLevel("skelet",90,46,1.38,{ru:{answers:["СИГАРЕТА","ТРУБКА","УСЫ","СВИСТОК"],title:"Винсент ван Гог. Скелет с сигаретой, 1886"},en:{answers:["CIGARETTE","PIPE","MOUSTACHES","WHISTLE"],title:"Vincent van Gogh. Skull of a Skeleton with Burning Cigarette, 1886"}}),this.addLevel("sunday",-165,180,1,{ru:{answers:["СОБАКА","МАРТЫШКА","КОШКА","ЗМЕЯ"],title:"Жорж-Пьер Сера. Воскресный день на острове Гранд-Жатт, 1884—1886"},en:{answers:["DOG","MONKEY","CAT","SNAKE"],title:"Georges Seurat. A Sunday Afternoon on the Island of La Grande Jatte, 1884—1886"}}),this.addLevel("redtower",-164,-40,2,{ru:{answers:["КРАСНАЯ БАШНЯ","ТОРГОВЫЙ ЦЕНТР","ГОДЗИЛЛА","ЖИРАФЫ"],title:"Джорджо де Кирико. Красная башня, 1913"},en:{answers:["RED TOWER","SHOPPING MALL","GODZILLA","GIRAFFES"],title:"Giorgio de Chirico. The Red Tower, 1913"}}),this.addLevel("dog",-85,200,1.17,{ru:{answers:["СОБАКА","ПЕРИСКОП","КРОТ","КАКАШКА"],title:"Франциско Гойя. Собака, 1819—1823"},en:{answers:["DOG","PERISCOPE","MOLE","POOP"],title:"Francisco Goya. The Dog, 1819—1823"}}),this.addLevel("9val",-85,247,1.09,{ru:{answers:["ЛЮДИ","ДЕЛЬФИН","ПИНГВИН","РУСАЛКА"],title:"Иван Айвазовский. Девятый вал, 1850"},en:{answers:["PEOPLE","DOLPHIN","PENGUIN","MERMAID"],title:"Ivan Aivazovsky. The Ninth Wave, 1850"}}),this.addLevel("arnolfini",9,239,1,{ru:{answers:["ТАПОЧКИ","СОБАКА","ТАРАКАН","ГАНТЕЛИ"],title:"Ян ван Эйк. Портрет четы Арнольфини, 1434"},en:{answers:["SLIPPERS","DOG","COCKROACH","DUMBBELLS"],title:"Jan van Eyck. The Arnolfini Portrait, 1434"}}),this.addLevel("hunters",197,-179,1,{ru:{answers:["ПТИЦА","ДРАКОН","ЗВЕЗДА СМЕРТИ","ЗАМОК"],title:"Питер Брейгель Старший. Охотники на снегу, 1565"},en:{answers:["BIRD","DRAGON","DEATH STAR","CASTLE"],title:"Pieter Bruegel the Elder. The Hunters in the Snow, 1565"}}),this.addLevel("vangog",0,-54,1.17,{ru:{answers:["ВАН ГОГ","МАЛЕВИЧ","РАФАЭЛЬ","ДА ВИНЧИ"],title:"Винсент ван Гог. Автопортрет с перевязанным ухом и трубкой, 1889"},en:{answers:["VAN GOGH","MALEVICH","RAPHAEL","DA VINCI"],title:"Vincent van Gogh. Self portrait with bandaged ear, 1889"}}),this.addLevel("garden",-1,-136,1,{ru:{answers:["ЗАЯЦ","ВЛАДИМИР ПУТИН","ДЯТЕЛ","КИТ"],title:"Иероним Босх. Сад земных наслаждений, 1500-1510"},en:{answers:["RABBIT","VLADIMIR PUTIN","WOODPECKER","WHALE"],title:"Hieronymus Bosch. The Garden of Earthly Delights, 1500-1510"}}),this.addLevel("mart",-48,117,1.06,{ru:{answers:["ЛОШАДЬ","МЕРСЕДЕС","ТИГР","КОРОВА"],title:"Исаак Левитан. Март, 1895"},en:{answers:["HORSE","MERCEDES","TIGER","COW"],title:"Isaac Levitan. March, 1895"}}),this.addLevel("grachi",-253,247,.59,{ru:{answers:["ПТИЦА","САПОГ","КОЛОДЕЦ","ТАНК"],title:"Алексей Саврасов. Грачи прилетели, 1871"},en:{answers:["BIRD","BOOT","WELL","TANK"],title:"Alexei Savrasov. The Rooks Have Come Back, 1871"}}),this.addLevel("girlWithPeaches",-140,-260,1,{ru:{answers:["ТАРЕЛКА","ЧАСЫ","КАРТИНА","ГОЛОВА ОЛЕНЯ"],title:"Валентин Серов. Девочка с персиками, 1887"},en:{answers:["PLATE","CLOCK","PAINTING","DEER'S HEAD"],title:"Valentin Serov. The girl with peaches, 1887"}}),this.addLevel("sunrise",152,-137,.62,{ru:{answers:["СОЛНЦЕ","НЛО","МЕТЕОРИТ","ДИРИЖАБЛЬ"],title:"Клод Моне. Впечатление. Восходящее солнце, 1872"},en:{answers:["SUN","UFO","METEORITE","AIRSHIP"],title:"Claude Monet. Impression, Sunrise, 1872"}}),this.addLevel("madonna",-95,-141,1.64,{ru:{answers:["МЛАДЕНЕЦ","КУВШИН","КНИГА","КОШКА"],title:"Рафаэль. Сикстинская Мадонна, 1512—1513"},en:{answers:["CHILD","JUG","BOOK","CAT"],title:"Raphael. Sistine Madonna, 1512—1513"}}),this.addLevel("gornostai",40,140,1.64,{ru:{answers:["ГОРНОСТАЙ","ТАКСА","КРЫСА","ДИНОЗАВР"],title:"Леонардо да Винчи. Дама с горностаем, 1489–1490"},en:{answers:["ERMINE","DACHSHUND","RAT","DINOSAUR"],title:"Leonardo da Vinci. Lady with an Ermine, 1489–1490"}}),this.addLevel("players",0,29,1.17,{ru:{answers:["КАРТЫ","КОЛБАСА","АЙФОНЫ","ПЕЛЬМЕНИ"],title:"Поль Сезанн. Игроки в карты, 1894-1895"},en:{answers:["CARDS","SAUSAGE","IPHONES","PELMENI"],title:"Paul Cezanne. The Card Players, 1894-1895"}}),this.addLevel("serezhka",48,9,1.03,{ru:{answers:["СЕРЕЖКА","ТАТУИРОВКА","ШРАМ","НАУШНИКИ"],title:"Ян Вермеер. Девушка с жемчужной сережкой, ок. 1665"},en:{answers:["EAR-RING","TATTOO","SCAR","HEADPHONES"],title:"Johannes Vermeer. Girl with a Pearl Earring, 1665"}}),this.addLevel("suprem",40,-44,2.6,{ru:{answers:["СИНИЙ КВАДРАТ","РОЗОВЫЙ КРУГ","ЖЕЛТЫЙ ЦИЛИНДР","ЧЕРНАЯ ДЫРА"],title:"Казимир Малевич. Супрематическая композиция, 1916"},en:{answers:["BLUE SQUARE","PINK CIRCLE","YELLOW CYLINDER","BLACK HOLE"],title:"Kazimir Malevich. Suprematist Composition, 1916"}})},addLevel:function(a,b,c,d,e){var f=this.levels.length;this.levels.push(new Level(f,a,b,c,d,e))},levelStart:function(a){this.curLevel=this.levels[a];var b=[15,325,15,325],c=[820,820,890,890];this.abuttons=[];var d=this.curLevel.getAnswers().slice(0);d=Util.shuffle(d),this.painting=new Painting(Main.viewContainer,this.curLevel),this.addComponent(this.painting);for(var e=0;4>e;e++){var f=d[e],g=new AnswerButton(Main.topContainer,f,b[e],c[e],this);this.addComponent(g),this.abuttons.push(g)}this.ui.levelStart(),Config.ANIMATION&&new LevelShowCommand(this)},levelAbort:function(){this.removeComponent(this.painting),this.removeAButtons()},removeAButtons:function(){for(;this.abuttons.length>0;){var a=this.abuttons.pop();this.removeComponent(a)}},getCorrectButton:function(){for(var a=this.curLevel.getAnswers()[0],b=0;b<this.abuttons.length;b++){var c=this.abuttons[b];if(c.text===a)return c}return void 0},playerAnswered:function(a){this.playerAnswer=a,new PlayerAnsweredCommand(this)},getNumCorrectAnswers:function(){for(var a=0,b=0;b<this.levels.length;b++){var c=this.levels[b];c.playerCorrect&&a++}return a},getTotalLevels:function(){return this.levels.length},playClick:function(){}}),GameComplete=ComponentBox.extend({init:function(a){this.game=a,this._super(),this.addComponent(new Background),this.parent=Main.viewContainer;var b="RU"==Config.LANG?"Игра пройдена!":"Game Complete!";this.titleTf=new TextField(this.parent,b,{x:Config.WIDTH/2,y:60,font:"60px Arial",align:"center"}),this.addComponent(this.titleTf);var c=this.game.getNumCorrectAnswers(),d=this.game.getTotalLevels(),e="RU"==Config.LANG?"Правильные ответы: ":"Correct answers: ",f=e+c+"/"+d;this.answersTf=new TextField(this.parent,f,{x:Config.WIDTH/2,y:670,font:"30px Arial",align:"center"}),this.addComponent(this.answersTf),this.resultGallery=new ResultGallery(this.parent,this.game,80,180),this.addComponent(this.resultGallery),this.addComponent(new Button(this.parent,"homeButton",380,808,this.exitClick,this)),this.addComponent(new Button(this.parent,"mrg_logo",175,790,this.mrgLogoClick,this))},mrgLogoClick:function(){window.open(Config.URL_MORE_GAMES,"_blank")},exitClick:function(a,b){Fader.fade(b.gameOver,b)},gameOver:function(){Main.removeViewByClass(GameComplete),Main.addView(new MainMenu)}}),GameUI=ComponentBox.extend({init:function(a,b){this._super(),this.parent=a,this.game=b,this.createBack(),this.addComponent(new Button(this.parent,"homeButton",10,10,this.exitClick,this)),this.nextBtn=new Button(this.parent,"nextButton",320,740,this.nextClick,this),this.nextBtn.bmp.regX=this.nextBtn.bmp.regY=52,this.nextBtn.hide(),this.addComponent(this.nextBtn),createjs.Tween.get(this.nextBtn.bmp,{loop:!0}).to({scaleX:1.2,scaleY:1.2},1e3,createjs.Ease.sineInOut).to({scaleX:1,scaleY:1},1e3,createjs.Ease.sineInOut);var c="RU"==Config.LANG?"Уровень ":"Level";this.addComponent(new TextField(this.parent,c,{x:320,y:10,font:"35px Arial",align:"center"})),this.levelTf=new TextField(this.parent,"",{x:320,y:50,font:"40px Arial",align:"center"}),this.addComponent(this.levelTf),this.desc=new Description(this.game,this.parent),this.addComponent(this.desc),this.addComponent(new SoundIcon(this.parent,550,10))},createBack:function(){var a=new createjs.Graphics;a.beginFill("#EEE").drawRect(0,0,Config.WIDTH,100),this.back=new createjs.Shape(a),this.parent.addChild(this.back);var b=new createjs.Graphics;b.beginFill("#EEE").drawRect(0,810,Config.WIDTH,150),this.back2=new createjs.Shape(b),this.parent.addChild(this.back2)},exitClick:function(a,b){Fader.fade(b.gameOver,b)},gameOver:function(){Main.removeViewByClass(Game),Main.addView(new MainMenu)},nextClick:function(a,b){new LevelHideCommand(b.game)},removeAButtons:function(){for(;this.game.abuttons.length>0;){var a=this.game.abuttons.pop();this.game.removeComponent(a)}},levelStart:function(){this.desc.setText(this.game.curLevel.getTitle()),this.desc.hide();var a=this.game.curLevel.id+1,b=this.game.getTotalLevels();this.levelTf.setText(a+"/"+b)},update:function(){var a=Util.formatTime(this.game.gameTime);this.timeTf.setText("Time "+a)},destroy:function(){this._super(),this.parent.removeChild(this.back),this.parent.removeChild(this.back2)}}),MainMenu=ComponentBox.extend({init:function(){this._super(),this.addComponent(new Background),this.addComponent(new Picture(Main.viewContainer,"mona",{x:0,y:0}));var a=new Picture(Main.viewContainer,"mainTitle",{x:320,y:140});a.bitmap.regX=125,a.bitmap.regY=125,this.addComponent(a),this.addComponent(new Picture(Main.viewContainer,"shadow",{x:0,y:710}));var b=new Button(Main.viewContainer,"playButton",320,870,this.playClick,this);b.bmp.regX=b.bmp.regY=75,createjs.Tween.get(b.bmp,{loop:!0}).to({scaleX:1.1,scaleY:1.1},1e3,createjs.Ease.sineInOut).to({scaleX:1,scaleY:1},1e3,createjs.Ease.sineInOut),this.addComponent(b);var c=new Button(Main.viewContainer,"creditsButton",580,900,this.creditsClick,this);c.bmp.regX=c.bmp.regY=50,this.addComponent(c),this.addComponent(new Button(Main.viewContainer,"mrg_logo",20,840,this.logoClick,this))},logoClick:function(){window.open(Config.URL_MORE_GAMES,"_blank")},playClick:function(a,b){Fader.fade(b.gameStart,b)},creditsClick:function(){Main.addView(new Credits)},gameStart:function(){Main.removeViewByClass(MainMenu),Main.addView(new Game)}});