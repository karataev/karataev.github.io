function Config(){}function startup(){game=new Phaser.Game(Config.WIDTH,Config.HEIGHT,Phaser.AUTO,"gameArea"),game.state.add("Boot",App.BootState),game.state.add("Preloader",App.PreloaderState),game.state.add("MainMenu",App.MainMenuState),game.state.add("Gameplay",App.GameplayState),game.state.add("GameComplete",App.GameCompleteState),game.state.add("Tutorial",App.TutorialState),game.state.start("Boot")}App.Commands=Class.extend({init:function(){},tutorialStart:function(){game.state.start("Tutorial")},gameStart:function(){data.initLevels(),data.gameStartTime=game.time.now,data.penaltyTime=0,data.pauseTime=0,Config.TEST_GAME_COMPLETE?cmd.gameComplete():cmd.levelStart(Config.START_LEVEL)},levelStart:function(a){data.curLevel=data.levels[a],data.levelStartTime=game.time.now,data.shuffledValues=data.curLevel.values.slice(0),data.shuffledValues=util.randomizeArray(data.shuffledValues),data.curIndex=0,game.state.start("Gameplay")},levelComplete:function(){sounds.play("sndLevelComplete"),Config.ANIMATION?new App.CompleteTitle:cmd.levelNext()},levelNext:function(){var a=data.curLevel.id+1;a==data.levels.length?cmd.gameComplete():cmd.levelStart(a)},gameComplete:function(){game.state.start("GameComplete")}}),Config.VERSION="0.1",Config.WIDTH=640,Config.HEIGHT=832,Config.CIRCLE_RADIUS=60,Config.colors=[7979757,16368133,15300121,14230096,7103127,4297347,8961830],Config.completeNames=["textAwesome","textYouRock","textCool","textGreat","textPerfect","textWellDone","textDoingGreat"],Config.GRADE_A=24e4,Config.GRADE_B=27e4,Config.GRADE_C=3e5,Config.GRADE_D=36e4,Config.GRADE_E=48e4,Config.ANIMATION=!0,Config.SOUNDS_ENABLED=!1,Config.TRANSPARENT=!1,Config.START_LEVEL=0,Config.TEST_GAME_COMPLETE=!1,Config.SHOW_FPS=!0,Config.OPEN_ALL_LEVELS=!0,Config.DEBUG_PHYSICS=!1,Config.ENABLE_CHEAT=!0,Config.RELEASE=!0,Config.RELEASE&&(Config.ANIMATION=!0,Config.SOUNDS_ENABLED=!0,Config.TRANSPARENT=!1,Config.START_LEVEL=0,Config.TEST_GAME_COMPLETE=!1,Config.SHOW_FPS=!1,Config.OPEN_ALL_LEVELS=!1,Config.DEBUG_PHYSICS=!1,Config.ENABLE_CHEAT=!1),App.Cookies=Class.extend({init:function(){this.gameStorageKey="plusonerikoshe",this.initSound(),this.isNewGame=!0},isSupported:function(){var a="test",b=window.sessionStorage;try{return b.setItem(a,"1"),b.removeItem(a),!0}catch(c){return!1}},getStorage:function(a){return localStorage[this.gameStorageKey+"."+a]},setStorage:function(a,b){this.isSupported()&&(localStorage[this.gameStorageKey+"."+a]=b)},initSound:function(){Config.SOUNDS_ENABLED="false"==this.getStorage("soundEnabled")?!1:!0},saveSound:function(){this.setStorage("soundEnabled",Config.SOUNDS_ENABLED)},initLevels:function(){if(void 0!=this.getStorage("levels"))for(var a=0;a<data.levels.length;a++){var b=data.levels[a];"true"==this.getStorage("levels."+a+".isCompleted")&&(b.isOpen=!0,b.isCompleted=!0,this.isNewGame=!1)}this.updateOpenLevels()},updateOpenLevels:function(){var a,b;if(Config.OPEN_ALL_LEVELS)for(a=0;a<data.levels.length;a++)b=data.levels[a],b.isOpen=!0;else for(a=0;a<data.levels.length;a++)if(b=data.levels[a],!b.isCompleted){b.isOpen=!0;break}},levelComplete:function(){this.setStorage("levels","true");var a=data.curLevel.id;this.setStorage("levels."+a+".isCompleted","true"),this.isNewGame=!1,this.updateOpenLevels()},clear:function(){localStorage.clear(),this.isNewGame=!0,this.uncompleteLevels(),this.updateOpenLevels()},uncompleteLevels:function(){for(var a=0;a<data.levels.length;a++){var b=data.levels[a];b.reset()}}}),App.Data=Class.extend({init:function(){this.curLevel=null,this.gameStartTime=0,this.penaltyTime=0,this.pauseTime=0,game.onPause.add(this.globalPauseOn,this),game.onResume.add(this.globalPauseOff,this),this.atlasName="atlas"},globalPauseOn:function(){this.globalPauseStart=game.time.now},globalPauseOff:function(){this.pauseTime+=Math.round(game.time.now-this.globalPauseStart)},getAtlasKey:function(a){return this.atlasName+"/"+a+"_0000"},addAtlasSprite:function(a,b){var c=0,d=0,e=game.world;return b&&(void 0!=b.x&&(c=b.x),void 0!=b.y&&(d=b.y),void 0!=b.parent&&(e=b.parent)),game.add.sprite(c,d,this.atlasName,this.getAtlasKey(a),e)},initLevels:function(){this.levels=[],this.addLevel({cols:5,rows:5,startMin:1,startMax:1,incrementMin:2,incrementMax:5}),this.addLevel({cols:5,rows:5,startMin:5,startMax:20,incrementMin:1,incrementMax:10}),this.addLevel({cols:5,rows:5,startMin:10,startMax:50,incrementMin:1,incrementMax:20})},addLevel:function(a){for(var b=a.cols,c=a.rows,d=a.startMin+Math.round(Math.random()*(a.startMax-a.startMin)),e=this.levels.length,f=b*c,g=[],h=d,i=0;f>i;i++){g.push(h);var j=a.incrementMin+Math.round(Math.random()*(a.incrementMax-a.incrementMin));h+=j}this.levels.push(new App.Level(e,g,b))},getGameTime:function(){return Math.round(game.time.elapsedSince(data.gameStartTime))+this.penaltyTime-this.pauseTime}}),App.GameLogic=Class.extend({init:function(a){this.state=a,this.circlesHolder=game.add.group(),this.updateHolderPos(),this.createCircles(),Config.ANIMATION&&this.tweenBornCircles(),this.readyCircles=0},touchHandler:function(a){var b=a.x-this.circlesHolder.x,c=a.y-this.circlesHolder.y,d=this.getCircleUnderPoint(b,c);d&&(d.value===data.curLevel.values[data.curIndex]?this.correctAnswer(d):this.wrongAnswer(d))},correctAnswer:function(a){sounds.play("sndRight"),data.curIndex++,this.removeCircle(a),0==this.circles.length&&this.state.levelComplete()},wrongAnswer:function(a){this.state.wrongAnswer(a)},getCircleUnderPoint:function(a,b){for(var c=0;c<this.circles.length;c++){var d=this.circles[c];if(d.isPointInside(a,b))return d}return null},removeCircle:function(a){var b=this.circles.indexOf(a);this.circles.splice(b,1),a.dissapear()},updateHolderPos:function(){var a=Math.floor((data.curLevel.values.length+data.curLevel.inRow-1)/data.curLevel.inRow),b=(2*Config.CIRCLE_RADIUS+10)*data.curLevel.inRow-10,c=(2*Config.CIRCLE_RADIUS+10)*a-10;this.circlesHolder.x=(Config.WIDTH-b)/2,this.circlesHolder.y=20+(480-c/2)},createCircles:function(){var a=10;this.circles=[];for(var b=0;b<data.shuffledValues.length;b++){var c=data.shuffledValues[b],d=new App.Circle(this,this.circlesHolder,c);this.circles.push(d);var e=Config.CIRCLE_RADIUS+b%data.curLevel.inRow*(2*Config.CIRCLE_RADIUS+a),f=Config.CIRCLE_RADIUS+Math.floor(b/data.curLevel.inRow)*(2*Config.CIRCLE_RADIUS+a);d.setPos(e,f)}},tweenBornCircles:function(){for(var a=0;a<this.circles.length;a++){var b=this.circles[a];b.tweenBorn(30*a)}},circleReady:function(){this.readyCircles++,this.readyCircles==this.circles.length&&(this.state.input.onDown.add(this.touchHandler,this),this.state.circlesReady())}}),App.Level=Class.extend({init:function(a,b,c){this.id=a,this.values=b,this.inRow=c}});var game,cmd,data,cookies,fader,parser,sounds,util;App.Sounds=Class.extend({init:function(){this.musicChannel=void 0},startMusic:function(){Config.SOUNDS_ENABLED&&(this.musicChannel=game.add.audio("music",1,!0),this.musicChannel.play())},stopMusic:function(){this.musicChannel&&this.musicChannel.pause()},play:function(a,b){var c=1;void 0!=b&&(c=b),Config.SOUNDS_ENABLED&&game.sound.play(a,c)}}),App.Util=Class.extend({init:function(){this.tempColors=Config.colors.slice(0)},pulse:function(a,b){void 0==b&&(b=1.2),game.add.tween(a.scale).to({x:b,y:b},1e3,Phaser.Easing.Sinusoidal.InOut).to({x:1,y:1},1e3,Phaser.Easing.Sinusoidal.InOut).loop().start()},wobble:function(a,b){void 0==b&&(b=1);for(var c=game.add.tween(a.scale),d=0;b>d;d++){var c=c.to({x:1.2,y:.8},100,Phaser.Easing.Sinusoidal.InOut);c.to({x:1,y:1},100,Phaser.Easing.Sinusoidal.InOut)}c.start()},appearWithAlpha:function(a,b){a.alpha=0,game.add.tween(a).to({alpha:1},500,Phaser.Easing.Linear.None,!0,b)},formatTime:function(a){var b=Math.floor(a/1e3),c=Math.floor(b/3600),d=Math.floor((b-3600*c)/60),e=b-3600*c-60*d;10>c&&(c="0"+c),10>d&&(d="0"+d),10>e&&(e="0"+e);var f=d+":"+e;return c>0&&(f=c+":"+f),f},randomizeArray:function(a){for(var b=[],c=a.length;c--;){var d=Math.floor(Math.random()*a.length),e=a.splice(d,1)[0];b.unshift(e)}return b},getCircleColor:function(){0==this.tempColors.length&&(this.tempColors=Config.colors.slice(0));var a=Math.floor(Math.random()*this.tempColors.length),b=this.tempColors[a];return this.tempColors.splice(a,1),b}}),App.Circle=Class.extend({init:function(a,b,c){this.manager=a,this.parent=b,this.value=c,this.group=game.add.group(this.parent);var d=game.add.graphics(0,0,this.group),e=util.getCircleColor();d.beginFill(e,1),d.drawCircle(0,0,Config.CIRCLE_RADIUS),this.txt=game.add.text(0,0,c,{font:"bold 64px Arial",fill:"#FFFFFF"},this.group),this.txt.anchor.set(.5,.5)},setPos:function(a,b){this.group.x=a,this.group.y=b,this.defaultX=this.group.x},isPointInside:function(a,b){var c=this.group.x-a,d=this.group.y-b,e=Math.sqrt(c*c+d*d);return e<=Config.CIRCLE_RADIUS},dissapear:function(){var a=new Phaser.Tween(this.group.scale,game,game.tweens);a.onComplete.add(this.dissapearComplete,this),a.to({x:0,y:0},300,Phaser.Easing.Linear.None).start()},dissapearComplete:function(){this.destroy()},wobble:function(){this.t1&&this.t1.stop(),this.t2&&this.t2.stop(),this.t3&&this.t3.stop(),this.t4&&this.t4.stop(),this.t5&&this.t5.stop(),this.group.x=this.defaultX;var a=5,b=100,c=Phaser.Easing.Quadratic.In,d=Phaser.Easing.Quadratic.Out,e=Phaser.Easing.Quadratic.InOut;this.t1=new Phaser.Tween(this.group,game,game.tweens),this.t2=new Phaser.Tween(this.group,game,game.tweens),this.t3=new Phaser.Tween(this.group,game,game.tweens),this.t4=new Phaser.Tween(this.group,game,game.tweens),this.t5=new Phaser.Tween(this.group,game,game.tweens),this.t1.to({x:this.defaultX+a},b/2,d),this.t2.to({x:this.defaultX-a},b,e),this.t3.to({x:this.defaultX+a},b,e),this.t4.to({x:this.defaultX-a},b,e),this.t5.to({x:this.defaultX},b/2,c),this.t1.chain(this.t2),this.t2.chain(this.t3),this.t3.chain(this.t4),this.t4.chain(this.t5),this.t1.start()},tweenBorn:function(a){this.group.scale.x=this.group.scale.y=0;var b=500,c=game.add.tween(this.group.scale).to({x:1,y:1},b,Phaser.Easing.Back.Out,!0,a);c.onComplete.addOnce(this.tweenBornComplete,this)},tweenBornComplete:function(){this.manager.circleReady()},destroy:function(){this.group.destroy()}}),App.CompleteTitle=Class.extend({init:function(){var a=Math.floor(Math.random()*Config.completeNames.length),b=Config.completeNames[a];this.sprite=data.addAtlasSprite(b,{x:Config.WIDTH/2,y:Config.HEIGHT/2}),this.sprite.anchor.set(.5,.5),this.ease=Phaser.Easing.Linear.None,this.sprite.scale.x=this.sprite.scale.y=0;var c=game.add.tween(this.sprite.scale);c.to({x:1,y:1},500,Phaser.Easing.Back.Out,!0),c.onComplete.addOnce(this.scaleComplete,this),game.add.tween(this.sprite).to({y:Config.HEIGHT/2-200},2e3,this.ease).start(),data.globalPauseOn()},scaleComplete:function(){var a=game.add.tween(this.sprite.scale);a.to({x:0,y:0},500,Phaser.Easing.Back.In,!0,1e3),a.onComplete.addOnce(this.allComplete,this)},allComplete:function(){data.globalPauseOff(),cmd.levelNext()}}),App.Fader=Class.extend({init:function(a){this.game=a},fade:function(a,b){this.callback=a,this.scope=b,this.pic=game.add.sprite(0,0,"fader"),this.pic.alpha=0,this.pic.inputEnabled=!0;var c=game.add.tween(this.pic).to({alpha:.8},300,Phaser.Easing.Linear.None,!0);c.onComplete.addOnce(this.fadeInComplete,this)},fadeInComplete:function(){App.Fader.SHOULD_FADE_OUT=!0,this.callback.call(this.scope)},fadeOut:function(){App.Fader.SHOULD_FADE_OUT=!1,this.pic=game.add.sprite(0,0,"fader"),this.pic.inputEnabled=!0;var a=game.add.tween(this.pic).to({alpha:0},300,Phaser.Easing.Linear.None,!0);a.onComplete.addOnce(this.fadeOutComplete,this)},fadeOutComplete:function(){this.pic.destroy()}}),App.Fader.SHOULD_FADE_OUT=!1,App.MyButton=Class.extend({init:function(a,b,c,d,e){this.game=a;var f=0,g=0;this.callback=c,this.callbackContext=d;var h=!1,i=a.world,j=!0;if(this.wobble=!1,e&&(void 0!=e.x&&(f=e.x),void 0!=e.y&&(g=e.y),1==e.center&&(h=!0),void 0!=e.parentGroup&&(i=e.parentGroup),e.atlas===!1&&(j=!1),1==e.wobble&&(this.wobble=!0)),j){var k=data.getAtlasKey(b);this.bt=a.add.button(f,g,data.atlasName,this.clickHandler,this,k,k,k,k,i)}else this.bt=a.add.button(f,g,b,this.clickHandler,this,null,null,null,null,i);this.bt.input.useHandCursor=!0,h&&this.bt.anchor.set(.5,.5)},clickHandler:function(){sounds.play("sndClick"),this.wobble&&util.wobble(this.bt),this.callback.call(this.callbackContext)},scaleHide:function(){this.game.add.tween(this.bt.scale).to({x:0,y:0},200,Phaser.Easing.Linear.None,!0)},scaleShow:function(){this.game.add.tween(this.bt.scale).to({x:1,y:1},200,Phaser.Easing.Linear.None,!0)},hide:function(){this.bt.scale.x=this.bt.scale.y=0},show:function(){this.bt.scale.x=this.bt.scale.y=1},disableClick:function(){this.bt.inputEnabled=!1},enableClick:function(){this.bt.inputEnabled=!0}}),App.Penalty=Class.extend({init:function(a,b){this.sprite=data.addAtlasSprite("penaltyTime",{x:a,y:b}),this.sprite.anchor.set(.5,.5),this.sprite.scale.x=this.sprite.scale.y=0,game.add.tween(this.sprite.scale).to({x:1,y:1},200,Phaser.Easing.Back.Out,!0),game.add.tween(this.sprite).to({y:this.sprite.y-40},1e3,Phaser.Easing.Linear.None,!0);var c=game.add.tween(this.sprite).to({alpha:0},500,Phaser.Easing.Linear.None,!0,500);c.onComplete.addOnce(this.tweenComplete,this)},tweenComplete:function(){this.sprite.destroy()}}),App.SoundIcon=Class.extend({init:function(a,b){var c=0,d=0,e=1,f=a.world;void 0!=b&&(void 0!=b.x&&(c=b.x),void 0!=b.y&&(d=b.y),void 0!=b.scale&&(e=b.scale),void 0!=b.parentGroup&&(f=b.parentGroup)),this.group=a.add.group(f),this.group.x=c,this.group.y=d,this.group.scale.x=this.group.scale.y=e,this.btOn=new App.MyButton(a,"soundIconOn",this.sndClick,this,{center:!0,parentGroup:this.group}),this.btOff=new App.MyButton(a,"soundIconOff",this.sndClick,this,{center:!0,parentGroup:this.group}),this.updateIcon()},updateIcon:function(){Config.SOUNDS_ENABLED?(this.btOn.show(),this.btOff.hide()):(this.btOn.hide(),this.btOff.show())},sndClick:function(){Config.SOUNDS_ENABLED=!Config.SOUNDS_ENABLED,Config.SOUNDS_ENABLED?sounds.startMusic():sounds.stopMusic(),cookies.saveSound(),this.updateIcon(),util.wobble(this.group)},disableClick:function(){this.btOn.disableClick(),this.btOff.disableClick()}}),App.Tutorial=Class.extend({init:function(){},hide:function(){this.pic&&game.add.tween(this.pic).to({alpha:0},500,Phaser.Easing.Linear.None,!0)}}),App.YellowLine=Class.extend({init:function(a,b,c){this.dir=c,this.sprite=data.addAtlasSprite("yellowLine",{x:a,y:b})},update:function(){"left"==this.dir?(this.sprite.x-=.5,this.sprite.x<=-40&&(this.sprite.x=0)):"right"==this.dir&&(this.sprite.x+=.5,this.sprite.x>=0&&(this.sprite.x=-40))}}),App.BootState=function(){},App.BootState.prototype={preload:function(){this.load.image("preloadBar","assets/images/preloadBar.png"),this.load.image("preloadBarHolder","assets/images/preloadBarHolder.png"),this.load.image("background","assets/images/background.jpg"),game.stage.backgroundColor="#EBE7DA"},create:function(){this.game.input.maxPointers=1,this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.enterPortrait.add(this.rescale,this),this.game.scale.enterLandscape.add(this.rescale,this),this.game.scale.setScreenSize(!0),Config.TRANSPARENT&&(this.game.world.alpha=.5),this.game.state.start("Preloader")},rescale:function(){var a=this.game;setTimeout(function(){a.scale.refresh()},500)}},App.GameCompleteState=function(){},App.GameCompleteState.prototype={create:function(){this.add.sprite(0,0,"background"),this.title=data.addAtlasSprite("gameCompleteTitle",{x:126,y:80});var a="Your time: "+util.formatTime(data.getGameTime());this.timerTxt=this.game.add.text(Config.WIDTH/2,360,a,{font:"bold 50px Arial",fill:"#000000"}),this.timerTxt.anchor.set(.5,.5),this.menu=new App.MyButton(this.game,"menuButton",this.menuClick,this,{x:320,y:740,center:!0}),this.showWithTweens()},showWithTweens:function(){util.appearWithAlpha(this.title,500),util.appearWithAlpha(this.timerTxt,1500),util.appearWithAlpha(this.menu.bt,2500)},menuClick:function(){util.wobble(this.menu.bt),fader.fade(this.gotoMainMenu,this)},gotoMainMenu:function(){game.state.start("MainMenu")}},App.GameplayState=function(){},App.GameplayState.prototype={create:function(){this.add.sprite(0,0,"background"),this.coreGroup=new Phaser.Group(this.game,this.game.world),this.uiGroup=new Phaser.Group(this.game,this.game.world),this.uiGroup.fixedToCamera=!0,data.addAtlasSprite("levelUIBack",{parent:this.uiGroup}),this.home=new App.MyButton(this.game,"homeButton",this.homeClick,this,{x:550,y:80,center:!0,parentGroup:this.uiGroup}),this.soundIcon=new App.SoundIcon(this.game,{x:400,y:80,parentGroup:this.uiGroup}),Config.ENABLE_CHEAT&&(this.cheat=new App.MyButton(this.game,"cheatButton",this.cheatClick,this,{x:300,y:40,center:!0,parentGroup:this.uiGroup}));var a="Level "+(data.curLevel.id+1);this.levelTxt=this.game.add.text(10,10,a,{font:"bold 50px Arial",fill:"#666666"}),this.timerTxt=this.game.add.text(10,90,"Time 00:00",{font:"bold 50px Arial",fill:"#666666"}),this.logic=new App.GameLogic(this),this.tutorial=new App.Tutorial,this.addTimerEvent(),this.updateUI(),App.Fader.SHOULD_FADE_OUT&&fader.fadeOut()},homeClick:function(){util.wobble(this.home.bt),fader.fade(this.gotoMainMenu,this)},gotoMainMenu:function(){game.state.start("MainMenu")},wrongAnswer:function(a){sounds.play("sndWrong"),a.wobble(),data.penaltyTime+=5e3,this.updateUI();new App.Penalty(220,120)},circlesReady:function(){this.timerTxt.alpha=1},cheatClick:function(){this.levelComplete()},addTimerEvent:function(){this.timerEvent=this.game.time.events.loop(Phaser.Timer.SECOND,this.updateUI,this)},removeTimerEvent:function(){this.game.time.events.remove(this.timerEvent)},updateUI:function(){var a="Time "+util.formatTime(data.getGameTime());this.timerTxt.setText(a)},levelComplete:function(){this.tutorial.hide(),this.timerTxt.alpha=.5,this.removeTimerEvent(),cmd.levelComplete()},disableButtons:function(){this.undoBt.disableClick(),this.soundIcon.disableClick(),this.restartBt.disableClick(),this.pauseBt.disableClick()},getCoreGroup:function(){return this.coreGroup},update:function(){}},App.MainMenuState=function(){},App.MainMenuState.prototype={create:function(){this.add.sprite(0,0,"background"),this.title=data.addAtlasSprite("gameTitle",{x:27,y:124}),this.playBt=new App.MyButton(this.game,"playButton",this.playClick,this,{x:320,y:500,center:!0}),this.soundIcon=new App.SoundIcon(this.game,{x:320,y:700}),this.line1=new App.YellowLine(0,40,"left"),this.line2=new App.YellowLine(0,240,"right"),Config.RELEASE||this.add.text(20,0,"DEVELOPMENT VERSION",{font:"30px Arial",fill:"#FF0000"}),App.Fader.SHOULD_FADE_OUT&&fader.fadeOut()},showWithTweens:function(){this.title.alpha=0,this.add.tween(this.title).to({alpha:1},800,Phaser.Easing.Linear.None,!0),this.character.alpha=0,this.add.tween(this.character).to({alpha:1},800,Phaser.Easing.Linear.None,!0,500),this.tweenScaleButton(this.soundIcon.group,1300),this.tweenScaleButton(this.creditsBt.bt,1500),this.tweenScaleButton(this.deleteProgressBt.bt,1700),this.tweenAlphaButton(this.playBt.bt,2e3)},tweenScaleButton:function(a,b){a.scale.x=a.scale.y=0,this.add.tween(a.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0,b)},tweenAlphaButton:function(a,b){a.alpha=0,this.add.tween(a).to({alpha:1},500,Phaser.Easing.Linear.None,!0,b)},playClick:function(){util.wobble(this.playBt.bt),fader.fade(this.startGame,this)},startGame:function(){cmd.tutorialStart()},deleteProgressClick:function(){new App.DeleteProgressView(this.game)},creditsClick:function(){new App.CreditsView(this.game)},update:function(){this.line1.update(),this.line2.update()}},App.PreloaderState=function(){},App.PreloaderState.prototype={preload:function(){this.add.sprite(0,0,"background");var a,b=["fader"],c=["sndClick","sndLevelComplete","sndRight","sndWrong","music"];for(a=0;a<b.length;a++){var d=-1==b[a].indexOf(".jpg")?b[a]+".png":b[a];this.load.image(b[a],"assets/images/"+d)}for(a=0;a<c.length;a++){var e=c[a]+".mp3",f=c[a]+".ogg";this.load.audio(c[a],["assets/sounds/"+e,"assets/sounds/"+f])}this.load.atlasJSONHash("atlas","assets/images/atlas.png","assets/images/atlas.json"),this.holder=this.game.add.group(),this.preloadBar=this.add.sprite(Config.WIDTH/2,400,"preloadBar",null,this.holder),this.preloadBarHolder=this.add.sprite(Config.WIDTH/2,400,"preloadBarHolder",null,this.holder),this.preloadBar.anchor.set(.5,.5),this.preloadBarHolder.anchor.set(.5,.5),this.progressTxt=this.game.add.text(Config.WIDTH/2,320,"0%",{font:"bold 50px Arial",fill:"#000000"},this.holder),this.progressTxt.anchor.set(.5,0),this.load.setPreloadSprite(this.preloadBar),this.load.onFileComplete.add(this.fileLoaded,this)},fileLoaded:function(a){this.progressTxt.setText(a+"%")},create:function(){this.preloaderComplete()},preloaderComplete:function(){fader=new App.Fader(this.game),cmd=new App.Commands,data=new App.Data,cookies=new App.Cookies,sounds=new App.Sounds,sounds.startMusic(),util=new App.Util,this.game.state.start("MainMenu")}},App.TutorialState=function(){},App.TutorialState.prototype={create:function(){this.add.sprite(0,0,"background"),this.pic=data.addAtlasSprite("instructions",{x:70,y:70}),this.gotIt=new App.MyButton(this.game,"gotItButton",this.goClick,this,{x:320,y:750,center:!0}),App.Fader.SHOULD_FADE_OUT&&fader.fadeOut()},goClick:function(){util.wobble(this.gotIt.bt),fader.fade(this.startGame,this)},startGame:function(){cmd.gameStart()}};