<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Re:point</title>

    <link rel="stylesheet" href="css/styles.css"/>

</head>
<body>

<div class="container">

    <header>
        <img class="repoint-logo" src="svg/re-logo.svg" alt=""/>
        <div class="header-contact">
            <div class="header-contact-circle circle-3"></div>
            <div class="header-contact-circle circle-2"></div>
            <div class="header-contact-circle circle-1"></div>
            <a class="btn-contact" href="#">Связаться с нами</a>
        </div>
    </header>

    <section class="hello-page">

        <!--TODO плохое выравнивание. смотри: "-задач"-->
        <div class="words">
            <!--<img class="img-effect" src="svg/effect.svg" alt=""/>-->
            <!--<img class="img-creative" src="svg/creative.svg" alt=""/>-->
            <!--<img class="img-iweb" src="svg/iweb.svg" alt=""/>-->
            <!--<img class="img-technology" src="svg/technology.svg" alt=""/>-->
            <!--<img class="img-dlya" src="svg/dlya.svg" alt=""/>-->
            <!--<img class="img-resheniya" src="svg/resheniya.svg" alt=""/>-->
            <!--<img class="img-bussines" src="svg/bussines.svg" alt=""/>-->
            <!--<img class="img-zadach" src="svg/zadach.svg" alt=""/>-->
        </div>

        <!--TODO плавное написание "портфолио"-->
        <!--TODO нет презентации, которую надо открыть в новом окне-->
        <div class="portfolio">
            <a href="#" class="btn-portfolio">
                <img src="svg/folio.svg" alt=""/>
            </a>
        </div>
    </section>

    <!--TODO переходы между страницами-->
    <section class="contacts-page">
        <h1 class="contacts-title">Оставьте ваш номер телефона,<br/>и мы перезвоним!</h1>
        <form class="contact-form">
            <!--TODO валидация телефона, скрывать кнопку по умолчанию-->
            <input class="contact-name" type="text" placeholder="ИМЯ"/>
            <input class="contact-phone" type="tel" placeholder="ТЕЛЕФОН"/>
            <input class="contact-submit" type="submit" value="ОСТАВИТЬ"/>
        </form>
        <!--TODO навигация-->
    </section>

    <section class="goodbye-page">
        <h1 class="goodbye-title">Здравствуйте. Спасибо за обращение!</h1>
        <p>Если вы ищете бизнес-партнера с нестандартным подходом к работе, вы обратились по адресу!</p>
        <p>Наша команда предлагает персонализированные решения бизнес-задач клиента посредством эффективного креатива, WEB-технологий и аналитики.</p>
        <p>Мы обязательно обсудим вам запрос в команде, и свяжемся с вами в самое ближайшее время.</p>
        <div class="goodbye-close-holder">
            <a href="#" class="goodbye-close">
                <img src="img/close.png" alt=""/>
            </a>
        </div>
    </section>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script>
    $(document).ready(function () {

        var $headerContact = $(".header-contact");
        var $helloPage = $(".hello-page");
        var $contactsPage = $(".contacts-page");
        var $goodbyePage = $(".goodbye-page")
        var $words = $(".words");
        var $portfolio = $(".portfolio");
        var $repointLogo = $(".repoint-logo");

        $contactsPage.hide();
        $goodbyePage.hide();

        var strEffect = '<img class="img-effect" src="svg/effect.svg" alt=""/>';
        var strCreative = '<img class="img-creative" src="svg/creative.svg" alt=""/>';
        var strIweb = '<img class="img-iweb" src="svg/iweb.svg" alt=""/>';
        var strTechnology = '<img class="img-technology" src="svg/technology.svg" alt=""/>';
        var strDlya = '<img class="img-dlya" src="svg/dlya.svg" alt=""/>';
        var strResheniya = '<img class="img-resheniya" src="svg/resheniya.svg" alt=""/>';
        var strBusiness= '<img class="img-bussines" src="svg/bussines.svg" alt=""/>';
        var strZadach = '<img class="img-zadach" src="svg/zadach.svg" alt=""/>';

        function showWord(str, delay, fade) {
            var shouldFade = fade || false;
            setTimeout(function () {
                var $img = $(str);
                $words.append($img);
                if (shouldFade) {
                    $img.hide().fadeIn();
                }
            }, delay)
        }

        var delta = 3000; // 3000
        var wordsData = [
            {str:strEffect, delay:0, fadeIn:false},
            {str:strCreative, delay:3000, fadeIn:false},
            {str:strIweb, delay:1000 + delta, fadeIn:true},
            {str:strTechnology, delay:1500 + delta, fadeIn:true},
            {str:strDlya, delay:500 + delta, fadeIn:false},
            {str:strResheniya, delay:3000 + delta, fadeIn:true},
            {str:strBusiness, delay:2400 + delta, fadeIn:false},
            {str:strZadach, delay:4000 + delta, fadeIn:true}
        ]

        // show words fast forward
        var instantWords = false;
        if (instantWords) {
            wordsData.forEach(function (x) {
                x.delay = 0;
            })
        }

        var allWordsDelay = 4000 + delta; //4000 + delta;
        $repointLogo.delay(allWordsDelay).animate({opacity:1}, 1000);
        $portfolio.delay(allWordsDelay + 1000).animate({opacity:1}, 1000);
        $headerContact.delay(allWordsDelay + 2000).animate({opacity:1}, 1000);
        //$headerContact.animate({opacity:1}, 100);

        for (var i = 0; i < wordsData.length; i++) {
            showWord(wordsData[i].str, wordsData[i].delay, wordsData[i].fadeIn);
        }

        function openContacts() {
            $headerContact.fadeOut(500);
            $words.fadeOut(500);
            $portfolio.fadeOut(500, function () {
                $words.show();
                $portfolio.show();
                $helloPage.hide();
                $contactsPage.fadeIn(500);
            });
        }

        $(".btn-portfolio").on("click", function (e) {
            e.preventDefault();
            openContacts();
        })

        $(".btn-contact").on("click", function (e) {
            e.preventDefault();
            openContacts();
        })

        $(".contact-submit").on("click", function (e) {
            e.preventDefault();
            $contactsPage.fadeOut(500, function () {
                $(".goodbye-page").fadeIn(500);
            })
        })

        $(".goodbye-close").on("click", function () {
            $goodbyePage.hide();
            $helloPage.show();
            $headerContact.show();
        })
    })
</script>


</body>
</html>