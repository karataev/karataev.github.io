function Config(){}var Assets=Class.extend({queue:void 0,callback:void 0,scope:void 0,loaderBar:void 0,percentTf:void 0,init:function(a,b){this.callback=a,this.scope=b,this.loaderBar=new createjs.Shape,this.loaderBar.graphics.beginFill("#000000").drawRect(0,230,320,20).endFill(),this.loaderBar.scaleX=0,stage.addChild(this.loaderBar),this.percentTf=new createjs.Text("0%","30px Arial","#555555"),this.percentTf.textAlign="center",this.percentTf.x=160,this.percentTf.y=180,stage.addChild(this.percentTf),this.queue=new createjs.LoadQueue(!1),createjs.Sound.alternateExtensions=["mp3"],this.queue.installPlugin(createjs.Sound);for(var c=[{id:"hermesTexture",src:"assets/fonts/hermes_0.png"},{id:"hermesXML",src:"assets/fonts/hermes.xml"},{id:"playButton",src:"assets/images/playButton.png"},{id:"menuButton",src:"assets/images/menuButton.png"},{id:"background",src:"assets/images/background.png"},{id:"yellowLine",src:"assets/images/yellowLine.png"},{id:"mainMenuTitle",src:"assets/images/mainMenuTitle.png"},{id:"soundIconOn",src:"assets/images/soundIconOn.png"},{id:"soundIconOff",src:"assets/images/soundIconOff.png"},{id:"exitButton",src:"assets/images/exitButton.png"},{id:"gameCompleteTitle",src:"assets/images/gameCompleteTitle.png"},{id:"grade",src:"assets/images/grade.png"},{id:"triangle",src:"assets/images/triangle.png"},{id:"creditsButton",src:"assets/images/creditsButton.png"},{id:"backButton",src:"assets/images/backButton.png"},{id:"postepennoLogo",src:"assets/images/postepennoLogo.png"},{id:"karataev",src:"assets/images/karataev.png"},{id:"musicCredits",src:"assets/images/musicCredits.png"},{id:"instructions",src:"assets/images/instructions.png"},{id:"moreGamesButton",src:"assets/images/moreGamesButton.png"},{id:"pauseBack",src:"assets/images/pauseBack.png"},{id:"resumeButton",src:"assets/images/resumeButton.png"},{id:"exit2Button",src:"assets/images/exit2Button.png"},{id:"pauseButton",src:"assets/images/pauseButton.png"},{id:"sndWrong",src:"assets/sounds/wrong.ogg"},{id:"sndRight",src:"assets/sounds/right.ogg"},{id:"sndLevelComplete",src:"assets/sounds/levelComplete.ogg"},{id:"sndClick",src:"assets/sounds/click.ogg"},{id:"music",src:"assets/sounds/music2.ogg"}],d=0;d<Config.completeNames.length;d++)c.push({id:Config.completeNames[d],src:"assets/images/"+Config.completeNames[d]+".png"});this.queue.on("fileload",this.onFileLoad,this),this.queue.on("complete",this.onComplete,this),this.queue.loadManifest(c)},get:function(a){return this.queue.getResult(a)},onComplete:function(){stage.removeChild(this.loaderBar),stage.removeChild(this.percentTf),stage.update(),this.callback(this.scope)},onFileLoad:function(){var a=Math.round(100*this.queue.progress);this.percentTf.text=a+"%",this.loaderBar.scaleX=this.queue.progress,stage.update()}}),Component=Class.extend({init:function(){},destroy:function(){}}),ComponentBox=Class.extend({init:function(){this.components=[]},addComponent:function(a){this.components.push(a)},removeComponent:function(a){var b=this.components.indexOf(a);this.components.splice(b,1),a.destroy()},destroyComponents:function(){for(;this.components.length>0;){var a=this.components.pop();a.destroy()}},destroy:function(){this.destroyComponents()}});Config.version="0.97",Config.completeNames=["textAwesome","textYouRock","textCool","textGreat","textPerfect","textWellDone","textDoingGreat"],Config.TRANSPARENT=!1,Config.colors=["#79C2ED","#F9C205","#E97619","#D92250","#6C6297","#419283","#88BF26"],Config.tempColors=Config.colors.slice(0),Config.radius=30,Config.GRADE_A=24e4,Config.GRADE_B=27e4,Config.GRADE_C=3e5,Config.GRADE_D=36e4,Config.GRADE_E=48e4;var Level=Class.extend({init:function(a,b,c){this.id=a,this.values=b,this.inRow=c}}),gameDiv,canvas,stage,assets,brandContainer,Main=Class.extend({init:function(){gameDiv=document.getElementById("fill"),gameDiv.setAttribute("style","width: 320px; height: 480px; position:absolute"),canvas=document.getElementById("content"),stage=new createjs.Stage(canvas);new Resizer;createjs.Touch.enable(stage),createjs.Ticker.setFPS(60),stage.enableMouseOver(0),assets=new Assets(this.preloaderComplete,this)},preloaderComplete:function(a){var b=new BitmapFont(assets.queue.getResult("hermesTexture"),assets.queue.getResult("hermesXML"),32);BitmapTextField.registerBitmapFont(b,"hermes"),Config.TRANSPARENT&&(stage.alpha=.5),Sounds.startMusic(),createjs.Ticker.on("tick",a.tick),Main.views=[],Main.viewContainer=new createjs.Container,Main.topContainer=new createjs.Container,stage.addChild(Main.viewContainer),stage.addChild(Main.topContainer),a.initBranding(),Main.addView(new MainMenu)},initBranding:function(){this.brandImage=new createjs.DOMElement("brand"),this.brandImage.htmlElement.setAttribute("src",fgl.getBrandingLogo()),brandContainer=new createjs.Container,brandContainer.x=35,brandContainer.y=156,brandContainer.addChild(this.brandImage),Main.topContainer.addChild(brandContainer),brandContainer.visible=!1},tick:function(a){stage.update(a)}});Main.addView=function(a){Main.views.push(a)},Main.removeViewByClass=function(a){for(var b=Main.views.length-1;b>=0;b--){var c=Main.views[b];if(c instanceof a){Main.views.splice(b,1),c.destroy();break}}},Main.getViewByClass=function(a){for(var b=Main.views.length-1;b>=0;b--){var c=Main.views[b];if(c instanceof a)return c}return null};var Resizer=Class.extend({init:function(){Resizer.onResize=this.onResize,window.onresize=Resizer.onResize,this.onResize()},onResize:function(){var a=window.innerWidth,b=window.innerHeight,c=320,d=480,e=Math.min(a/c,b/d),f=c*e,g=d*e;gameDiv.style.width=f+"px",gameDiv.style.height=g+"px",gameDiv.style.left=(a-f)/2+"px",stage.scaleX=e,stage.scaleY=e,stage.canvas.width=f,stage.canvas.height=g,stage.update()}}),Sounds=Class.extend({});Sounds.soundEnabled=!0,Sounds.play=function(a){if(Sounds.soundEnabled){createjs.Sound.play(a)}},Sounds.toggle=function(){Sounds.soundEnabled=!Sounds.soundEnabled,Sounds.soundEnabled?Sounds.startMusic():Sounds.musicChannel.stop()},Sounds.startMusic=function(){Sounds.musicChannel=createjs.Sound.play("music",{loop:-1,volume:.5})};var Util=Class.extend({});Util.formatTime=function(a){var b=Math.round(a/1e3),c=Math.floor(b/3600),d=Math.floor((b-3600*c)/60),e=b-3600*c-60*d;return 10>c&&(c="0"+c),10>d&&(d="0"+d),10>e&&(e="0"+e),d+":"+e},Util.shuffle=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a};var BackgroundComp=Component.extend({init:function(){this.bitmap=new createjs.Bitmap(assets.get("background")),Main.viewContainer.addChild(this.bitmap)},destroy:function(){stage.removeChild(this.bitmap)}}),ButtonComp=Component.extend({init:function(a,b,c,d,e,f){this.parent=a,this.assetName=b,this.x=c,this.y=d,this.callback=e,this.scope=f,this.bmp=new createjs.Bitmap(assets.get(this.assetName)),this.bmp.x=c,this.bmp.y=d,this.parent.addChild(this.bmp),this.bmp.addEventListener("click",this)},hide:function(){this.bmp.visible=!1},handleEvent:function(a){switch(a.type){case"click":Sounds.play("sndClick"),this.callback(this,this.scope)}},destroy:function(){this.bmp.removeEventListener("click",this),this.parent.removeChild(this.bmp)}}),Circle=Component.extend({myVar:"MYVARR",parent:void 0,container:void 0,shape:void 0,game:void 0,defaultX:void 0,defaultY:void 0,bmpText:void 0,value:void 0,init:function(a,b,c,d,e){this.radius=a,this.parent=b,this.manager=c,this.value=d,e.color&&(this.color=e.color),this.draw(),this.shape.addEventListener("click",this)},handleEvent:function(a){"click"===a.type&&this.manager.circleClicked(this)},draw:function(){this.container=new createjs.Container,this.parent.addChild(this.container);var a=(new createjs.Graphics).beginFill(this.getColor()).drawCircle(0,0,this.radius);this.shape=new createjs.Shape(a),this.container.addChild(this.shape),this.label=new createjs.Text(this.value,"bold 35px Arial","#ffffff"),this.label.textAlign="center",this.label.textBaseline="middle",this.container.addChild(this.label)},getColor:function(){if(this.color)return this.color;0==Config.tempColors.length&&(Config.tempColors=Config.colors.slice(0));var a=Math.floor(Math.random()*Config.tempColors.length),b=Config.tempColors[a];return Config.tempColors.splice(a,1),b},setPos:function(a,b){this.container.x=a,this.container.y=b,this.defaultX=a,this.defaultY=b},shake:function(){this.container.x=this.defaultX,this.container.y=this.defaultY;var a=createjs.Ease.quadIn,b=createjs.Ease.quadOut,c=createjs.Ease.quadInOut,d=100,e=5;createjs.Tween.get(this.container,{override:!0}).to({x:this.defaultX+e},d/2,b).to({x:this.defaultX-e},d,c).to({x:this.defaultX+e},d,c).to({x:this.defaultX-e},d,c).to({x:this.defaultX},d/2,a)},tweenBorn:function(a){this.container.scaleX=this.container.scaleY=0;var b=500;createjs.Tween.get(this.container).wait(a).to({scaleX:1,scaleY:1},b,createjs.Ease.backOut).call(this.manager.circleReady,[],this.manager)},destroy:function(a){this.shape.removeEventListener("click",this),a?createjs.Tween.get(this.container).to({scaleX:0,scaleY:0},500,createjs.Ease.quadOut).call(this.dieComplete,[],this):this.dieComplete()},dieComplete:function(){this.parent.removeChild(this.container)}}),CirclesManager=Component.extend({init:function(a,b){this.parent=a,this.game=b,this.circles=void 0,this.readyCircles=void 0,this.circlesGraphics=new createjs.Graphics,this.circlesShape=new createjs.Shape(this.circlesGraphics),this.circlesHolder=new createjs.Container,this.circlesHolder.addChild(this.circlesShape),this.circlesHolder.x=25,this.circlesHolder.y=100,this.parent.addChild(this.circlesHolder)},levelStart:function(){this.updateHolderPos(),this.createCircles(),this.tweenBornCircles(),this.readyCircles=0},updateHolderPos:function(){var a=Math.floor((this.game.curLevel.values.length+this.game.curLevel.inRow-1)/this.game.curLevel.inRow),b=(2*Config.radius+10)*this.game.curLevel.inRow-10,c=(2*Config.radius+10)*a-10;this.circlesHolder.x=(320-b)/2,this.circlesHolder.y=40+(240-c/2)},createCircles:function(){this.circles=[];for(var a=10,b=0;b<this.game.shuffledValues.length;b++){var c=this.game.shuffledValues[b],d={};0==this.game.curLevel.id&&1==c&&(d.color="#F9C205");var e=new Circle(Config.radius,this.circlesHolder,this,c,d),f=Config.radius+b%this.game.curLevel.inRow*(2*Config.radius+a),g=Config.radius+Math.floor(b/this.game.curLevel.inRow)*(2*Config.radius+a);e.setPos(f,g),this.circles.push(e)}},tweenBornCircles:function(){for(var a=0;a<this.circles.length;a++)this.circles[a].tweenBorn(100*a)},circleReady:function(){this.readyCircles++,this.readyCircles===this.circles.length},circleClicked:function(a){a.value===this.game.curLevel.values[this.game.curIndex]?this.correctAnswer(a):this.wrongAnswer(a)},correctAnswer:function(a){Sounds.play("sndRight"),this.removeCircle(a),this.game.curIndex++,0==this.circles.length&&new LevelCompleteCommand(this.game)},wrongAnswer:function(a){Sounds.play("sndWrong"),a.shake()},removeCircle:function(a){var b=this.circles.indexOf(a);this.circles.splice(b,1),a.destroy(!0)},destroyCircles:function(){for(;this.circles.length>0;){var a=this.circles.pop();a.destroy(!1)}},destroy:function(){this.destroyCircles(),this.parent.removeChild(this.circlesHolder)}}),PictureComp=Component.extend({init:function(a,b,c,d){this.parent=a,this.assetName=b,this.bitmap=new createjs.Bitmap(assets.get(b)),this.bitmap.x=c,this.bitmap.y=d,this.parent.addChild(this.bitmap)},setPos:function(a,b){this.bitmap.x=a,this.bitmap.y=b},destroy:function(){this.parent.removeChild(this.bitmap)}}),SoundIconComp=Component.extend({init:function(a,b,c){this.parent=a,this.holder=new createjs.Container,this.parent.addChild(this.holder),this.holder.x=b,this.holder.y=c,this.bmpOn=new createjs.Bitmap(assets.get("soundIconOn")),this.holder.addChild(this.bmpOn),this.bmpOff=new createjs.Bitmap(assets.get("soundIconOff")),this.holder.addChild(this.bmpOff),this.updateIcon(),this.holder.addEventListener("click",this)},updateIcon:function(){Sounds.soundEnabled?(this.bmpOn.visible=!0,this.bmpOff.visible=!1):(this.bmpOn.visible=!1,this.bmpOff.visible=!0)},handleEvent:function(a){switch(a.type){case"click":Sounds.toggle(),Sounds.play("sndClick"),this.updateIcon()}},destroy:function(){this.holder.removeEventListener("click",this),this.parent.removeChild(this.holder)}}),TextField=Component.extend({init:function(a,b,c){this.parent=a,this.x=0,this.y=0,this.color=TextField.defaultColor,this.font=TextField.defaultFont,this.align=TextField.defaultAlign,this.baseline=TextField.defaultBaseline,c&&(c.color&&(this.color=c.color),c.x&&(this.x=c.x),c.y&&(this.y=c.y),c.font&&(this.font=c.font),c.align&&(this.align=c.align),c.baseline&&(this.baseline=c.baseline)),this.tf=new createjs.Text(b,this.font,this.color),this.tf.x=this.x,this.tf.y=this.y,this.tf.textAlign=this.align,this.tf.baseline=this.baseline,this.parent.addChild(this.tf)},setText:function(a){this.tf.text=a},destroy:function(){this.parent.removeChild(this.tf)}});TextField.defaultColor="#000000",TextField.defaultFont="bold 30px Arial",TextField.defaultAlign="left",TextField.defaultBaseline="top";var YellowLineComp=Component.extend({init:function(a,b,c,d){this.parent=a,this.bitmap=new createjs.Bitmap(assets.get("yellowLine")),this.bitmap.x=b,this.bitmap.y=c,this.parent.addChild(this.bitmap),this.startX=0,this.targetX=0,"left"===d?(this.startX=0,this.targetX=-20):"right"===d&&(this.startX=-20,this.targetX=0),this.bitmap.x=this.startX,createjs.Tween.get(this.bitmap,{loop:!0}).to({x:this.targetX},1e3).to({x:this.startX},0)},destroy:function(){createjs.Tween.removeTweens(this.bitmap),this.parent.removeChild(this.bitmap)}}),LevelCompleteCommand=Class.extend({init:function(a){if(this.game=a,Sounds.play("sndLevelComplete"),0===this.game.curLevel.id){var b=Main.getViewByClass(Instructions);b.hide()}var c=new LevelComplete(this.titleComplete,this);Main.addView(c)},titleComplete:function(){Main.removeViewByClass(LevelComplete),this.game.curLevel.id===this.game.levels.length-1?(this.game.destroy(),this.gameComplete()):this.game.levelStart(this.game.curLevel.id+1)},gameComplete:function(){var a=this.game.gameTime;Main.removeViewByClass(Game),Main.addView(new GameComplete(a))}}),Credits=ComponentBox.extend({init:function(){this._super(),this.addComponent(new BackgroundComp),this.logoBt=new ButtonComp(Main.viewContainer,"postepennoLogo",0,15,this.logoClick,this),this.addComponent(this.logoBt),this.addHitArea(this.logoBt.bmp),this.karataevBt=new ButtonComp(Main.viewContainer,"karataev",0,245,this.karataevClick,this),this.addComponent(this.karataevBt),this.addHitArea(this.karataevBt.bmp),this.addComponent(new PictureComp(Main.viewContainer,"musicCredits",0,323)),this.addComponent(new ButtonComp(Main.viewContainer,"backButton",60,400,this.backClick,this))},addHitArea:function(a){var b=new createjs.Shape;b.graphics.beginFill("#000").drawRect(0,0,a.image.width,a.image.height),a.hitArea=b},logoClick:function(){window.open("http://postepenno.com","_blank")},karataevClick:function(){window.location.href="mailto:eugene.karataev@gmail.com"},backClick:function(){Main.removeViewByClass(Credits),Main.addView(new MainMenu)}}),FPSView=ComponentBox.extend({init:function(){this._super(),this.fpsLabel=new TextField(Main.topContainer,"FPS",{x:245,y:455,font:"bold 18px Arial"}),this.addComponent(this.fpsLabel),this.tickRef=createjs.Ticker.on("tick",this.tick,this)},tick:function(){var a=Math.round(createjs.Ticker.getMeasuredFPS());this.fpsLabel.setText("FPS "+a)},destroy:function(){this._super(),createjs.Ticker.off("tick",this.tickRef)}}),FinalGrade=ComponentBox.extend({init:function(a,b,c,d){this._super(),this.parent=a,this.holder=new createjs.Container,this.holder.x=b,this.holder.y=c,this.parent.addChild(this.holder),this.addComponent(new PictureComp(this.holder,"grade",0,0)),this.tri=new PictureComp(this.holder,"triangle",0,0),this.addComponent(this.tri),this.tri.bitmap.regX=12;var e=25+50*d,f=50;this.tri.setPos(e,f)},destroy:function(){this._super(),this.parent.removeChild(this.holder)}}),Game=ComponentBox.extend({init:function(){this._super(),this.shuffledValues=void 0,this.curIndex=void 0,this.curLevel=void 0,this.startTime=0,this.gameTime=0,this.initLevels(),this.addComponent(new BackgroundComp),this.circlesManager=new CirclesManager(Main.viewContainer,this),this.addComponent(this.circlesManager),this.ui=new GameUI(Main.viewContainer,this),this.addComponent(this.ui),createjs.Ticker.init(),this.startTime=createjs.Ticker.getTime(!0),this.tickRef=createjs.Ticker.on("tick",this.tick,this),$(window).on("blur",$.proxy(this.onBlur,this)),$(window).on("focus",$.proxy(this.onFocus,this)),this.levelStart(0)},onBlur:function(){Main.addView(new PauseView(Main.topContainer))},onFocus:function(){},tick:function(){this.gameTime=createjs.Ticker.getTime(!0)-this.startTime,this.ui.update()},initLevels:function(){this.levels=[],this.addLevel(1,"+1",4,1),this.addLevel(1,"+1",1,4),this.addLevel(1,"+1",2,2),this.addLevel(1,"+1",3,2),this.addLevel(1,"+1",2,3),this.addLevel(1,"+1",3,3),this.addLevel(1,"+1",4,3),this.addLevel(1,"+1",4,4),this.addLevel(2,"+2",4,1),this.addLevel(2,"+2",4,2),this.addLevel(2,"+2",3,3),this.addLevel(2,"+2",4,3),this.addLevel(3,"+3",2,3),this.addLevel(3,"+3",2,4),this.addLevel(5,"+5",2,2),this.addLevel(5,"+5",3,3),this.addLevel(50,"+5",2,2),this.addLevel(50,"+5",3,3),this.addLevel(8,"+8",2,5),this.addLevel(5,"+5",4,4),this.addLevel(10,"+10",3,3),this.addLevel(7,"+7",4,3),this.addLevel(10,"+1",4,4),this.addLevel(1,"+1",4,5),this.addLevel(29,"+3",4,5)},addLevel:function(a,b,c,d){for(var e=this.levels.length,f=c*d,g=[],h=0;f>h;h++){var i;"+1"===b?i=a+h:"+2"===b?i=a+2*h:"+3"===b?i=a+3*h:"+5"===b?i=a+5*h:"+7"===b?i=a+7*h:"+8"===b?i=a+8*h:"+10"===b&&(i=a+10*h),g.push(i)}this.levels.push(new Level(e,g,c))},initData:function(){this.shuffledValues=this.curLevel.values.slice(0),this.shuffledValues=Util.shuffle(this.shuffledValues)},levelStart:function(a){this.curLevel=this.levels[a],this.curIndex=0,this.initData(),this.circlesManager.levelStart(),this.ui.levelStart(),0===a&&Main.addView(new Instructions)},destroy:function(){this._super(),$(window).off("blur",$.proxy(this.onBlur,this)),$(window).off("focus",$.proxy(this.onFocus,this)),createjs.Ticker.off("tick",this.tickRef)}}),GameComplete=ComponentBox.extend({init:function(a){this._super(),this.addComponent(new BackgroundComp),this.title=new PictureComp(Main.viewContainer,"gameCompleteTitle",59,30),this.addComponent(this.title);var b="Your time: "+Util.formatTime(a);this.timeTf=new TextField(Main.viewContainer,b,{x:160,y:158,color:"#000000",align:"center"}),this.addComponent(this.timeTf);var c,d=0;a<Config.GRADE_A?(d=0,c="AMAZING!"):a<Config.GRADE_B?(d=1,c="Awesome"):a<Config.GRADE_C?(d=2,c="Super"):a<Config.GRADE_D?(d=3,c="Great"):a<Config.GRADE_E?(d=4,c="Good"):(d=5,c="OK"),this.finalGrade=new FinalGrade(Main.viewContainer,10,225,d),this.addComponent(this.finalGrade),this.resultTf=new TextField(Main.viewContainer,c,{x:160,y:330,color:"#E97619",align:"center"}),this.addComponent(this.resultTf),this.menuBt=new ButtonComp(Main.viewContainer,"menuButton",90,404,this.menuClick,this),this.addComponent(this.menuBt),this.tweenComponents()},tweenComponents:function(){this.addTween(this.title.bitmap,500,1e3),this.addTween(this.timeTf.tf,1500,1e3),this.addTween(this.finalGrade.holder,2500,1e3),this.addTween(this.resultTf.tf,3500,1e3),this.addTween(this.menuBt.bmp,4500,1e3)},addTween:function(a,b,c){a.alpha=0,createjs.Tween.get(a).wait(b).to({alpha:1},c)},menuClick:function(){Main.removeViewByClass(GameComplete),Main.addView(new MainMenu)}}),GameUI=ComponentBox.extend({init:function(a,b){this._super(),this.parent=a,this.game=b,this.back=void 0,this.createBack(),this.levelTf=new TextField(this.parent,"Level ...",{x:10,y:0,color:"#666666"}),this.addComponent(this.levelTf),this.timeTf=new TextField(this.parent,"Time 00:00",{x:10,y:37,color:"#666666"}),this.addComponent(this.timeTf),this.addComponent(new SoundIconComp(this.parent,180,10)),this.addComponent(new ButtonComp(this.parent,"pauseButton",250,10,this.pauseClick,this))},pauseClick:function(){Main.addView(new PauseView(Main.topContainer))},createBack:function(){var a=new createjs.Graphics;a.beginFill("#FFF").drawRect(0,0,320,80),this.back=new createjs.Shape(a),this.parent.addChild(this.back)},levelStart:function(){this.levelTf.setText("Level "+(this.game.curLevel.id+1)+"/"+this.game.levels.length)},update:function(){var a=Util.formatTime(this.game.gameTime);this.timeTf.setText("Time "+a)},destroy:function(){this._super(),this.parent.removeChild(this.back)}}),Instructions=ComponentBox.extend({init:function(){this._super(),this.pic=new PictureComp(Main.viewContainer,"instructions",40,100),this.addComponent(this.pic),this.pic.bitmap.alpha=0,createjs.Tween.get(this.pic.bitmap).to({alpha:1},1e3,createjs.Ease.linear)},hide:function(){createjs.Tween.get(this.pic.bitmap).to({alpha:0},500,createjs.Ease.linear).call(this.destroy,[],this)}}),LevelComplete=ComponentBox.extend({init:function(a,b){this._super();var c=Math.floor(Math.random()*Config.completeNames.length);this.title=new PictureComp(Main.viewContainer,Config.completeNames[c],0,250),this.addComponent(this.title);var d=this.title.bitmap;d.alpha=0,d.regX=160,d.x=160,d.scaleX=d.scaleY=0;var e=createjs.Ease.linear;createjs.Tween.get(d).to({scaleX:1,scaleY:1},700,createjs.Ease.backOut),createjs.Tween.get(d).to({y:150},2e3,e),createjs.Tween.get(d).to({alpha:1},500,e).wait(1e3).to({alpha:0},500,e).call(a,[],b)},destroy:function(){createjs.Tween.removeTweens(this.title.bitmap),this._super()}}),MainMenu=ComponentBox.extend({init:function(){this._super(),this.addComponent(new BackgroundComp),this.addComponent(new YellowLineComp(Main.viewContainer,0,16,"right")),this.addComponent(new YellowLineComp(Main.viewContainer,0,126,"left")),this.addComponent(new PictureComp(Main.viewContainer,"mainMenuTitle",0,52)),this.addComponent(new ButtonComp(Main.viewContainer,"playButton",60,266,this.playClick,this)),this.addComponent(new ButtonComp(Main.viewContainer,"creditsButton",60,402,this.creditsClick,this));var a=new ButtonComp(Main.viewContainer,"moreGamesButton",60,346,this.moreGamesClick,this);fgl.crossPromotionEnabled||a.hide(),this.addComponent(a);var b=new SoundIconComp(Main.viewContainer,272,435);b.holder.scaleX=b.holder.scaleY=.7,this.addComponent(b),fgl.brandingEnabled&&(brandContainer.visible=!0);var c=new TextField(Main.viewContainer,"v"+Config.version,{x:5,y:460,color:"#aaaaaa"});c.tf.scaleX=c.tf.scaleY=.5,this.addComponent(c),fgl.showAd()},moreGamesClick:function(){fgl.showMoreGames()},playClick:function(){Main.removeViewByClass(MainMenu),Main.addView(new Game)},creditsClick:function(){Main.removeViewByClass(MainMenu),Main.addView(new Credits)},destroy:function(){this._super(),brandContainer.visible=!1}}),PauseView=ComponentBox.extend({init:function(a){this._super(),this.parent=a,this.pic=new PictureComp(this.parent,"pauseBack",0,0),this.addComponent(this.pic),this.pic.bitmap.addEventListener("click",this),this.addComponent(new ButtonComp(this.parent,"resumeButton",60,120,this.resumeClick,this)),this.addComponent(new ButtonComp(this.parent,"exit2Button",60,260,this.exitClick,this)),createjs.Ticker.setPaused(!0)},resumeClick:function(){createjs.Ticker.setPaused(!1),Main.removeViewByClass(PauseView)},exitClick:function(){createjs.Ticker.setPaused(!1),Main.removeViewByClass(Instructions),Main.removeViewByClass(LevelComplete),Main.removeViewByClass(Game),Main.removeViewByClass(PauseView),Main.addView(new MainMenu)},handleEvent:function(a){switch(a.type){case"click":}},destroy:function(){this._super(),this.pic.bitmap.removeEventListener("click",this)}});